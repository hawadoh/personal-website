/* ================================
   Very minor change
   ================================ */

/* desktop-only portion of footer: hide on screens â‰¤768px */
.only-desktop {
  display: inline;
}
@media (max-width: 640px) {
  .only-desktop {
    display: none !important;
  }

  body {
    font-size: 16px !important; /* shrink the base font-size on small screens */
  }
}

/* Underline nav bar on hover */
header .nav #menu li a span {
  position: relative;
}

header .nav #menu li a span::after {
  content: "";
  position: absolute;
  left: 0;
  bottom: -2px;
  width: 100%;
  height: 1px;
  background-color: currentColor;
  transform: scaleX(0);
  transform-origin: center center;
  transition: transform 0.35s ease;
}

header .nav #menu li a:hover span::after {
  transform: scaleX(1);
}

/* Prevent KaTeX from breaking equations into two lines in inline mode */
.katex {
  white-space: nowrap; 
}

.katex-display {
  overflow-x: auto;
  overflow-y: hidden;
  white-space: nowrap;
  -webkit-overflow-scrolling: touch; /* smooth scroll on iOS */
  -ms-overflow-style: none;  /* IE/Edge */
  scrollbar-width: none;     /* Firefox */
}

.katex-display::-webkit-scrollbar {
  display: none;
}

/* Make #### (h4) bigger (why did they make it so small...) */
.post-content h4 {
  font-size: 20px;
  font-weight: bold;
}

/* ================================
   SANDSTORM THEME OVERRIDES
   (light + dark palettes)
   ================================ */

/* LIGHT MODE (default) */
:root,
.theme-light {
  --home-bg: #000000;
  /* page + cards */
  --theme: #FAF5E8;        /* very light sand */
  --entry: #f6efde;        /* soft sand card */

  /* text + accents */
  --primary: #57441b;      /* warm sand accent / links */
  --secondary: #74684f;    /* muted text */
  --tertiary: #E5D9C6;     /* subtle lines */
  --content: #2B251B;      /* main text (warm near-black) */

  /* code */
  --code-block-bg: #1F1C17; /* dark sand for fenced blocks */
  --code-bg: #eee7db;       /* inline code background */

  /* borders */
  --border: #E9DEC9;
}

/* DARK MODE */
.dark,
.theme-dark {
  /* page + cards */
  --theme: #201b13;        /* desert night */
  --entry: #1f1a11;        /* card on dark sand */

  /* text + accents */
  --primary: #ead49e;      /* sand gold accent / links */
  --secondary: #d4bb85;    /* muted text */
  --tertiary: #3B3325;     /* subtle separators */
  --content: #F3E9D2;      /* warm light text */

  /* code */
  --code-block-bg: #0F0D0A; /* deep sand for fenced blocks */
  --code-bg: #231E16;       /* inline code background */

  /* borders */
  --border: #2A241A;
}

/* Optional: let links inherit your accent cleanly */
a { color: var(--primary); }

/* ===== Charter on macOS (fallbacks elsewhere) ===== */
:root {
  --font-serif: "Charter";
}

/* apply to everything except code/math */
html, body {
  font-family: var(--font-serif);
}
h1,h2,h3,h4,h5,h6,
.home .profile, .home .home-info,
.post-title, header, nav, footer {
  font-family: var(--font-serif);
}

/* keep code blocks monospace */
code, pre, kbd, samp {
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas,
               "Liberation Mono", "Courier New", monospace !important;
}

/* ================================
   TEXT SELECTION (HIGHLIGHT) COLOURS
   ================================ */

/* Light mode selection: soft golden sand */
body:not(.dark) ::selection {
  background: #231E16; /* dark sand */
  color: #F3E9D2;      /* warm light text */
}
body:not(.dark) ::-moz-selection {
  background: #231E16;
  color: #F3E9D2;
}

/* Dark mode selection: muted sand gold */
body.dark ::selection {
  background: #d4bb85;
  color: #201b13; /* near your dark background for legibility */
}
body.dark ::-moz-selection {
  background: #d4bb85;
  color: #201b13;
}

.post-content details > summary {
  cursor: pointer;
}

/* Ensure selection is readable inside code blocks too */
pre ::selection,
code ::selection,
pre ::-moz-selection,
code ::-moz-selection {
  background: inherit;           /* keep same theme highlight */
  color: currentColor;           /* preserve code syntax colour */
}